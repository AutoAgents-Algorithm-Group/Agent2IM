# 飞书应用
feishu:
  app_id: "cli_a87352e3c577900e"
  app_secret: "DlVXx6WbRuDh4PnJkhZeUpjlaXcthWwY"

# 多维表格
bitable:
  url: "https://uxkpl4cba3j.feishu.cn/base/UfDPbov0Eai3RpsWAEBcyfe1nAb?table=tbla3OuZeDczpqZx&view=vewGyZRz6D"

# 群聊配置
group_chat:
  chat_id: "oc_64bcf6b8ab56981e2883998114b9733e"
  # 排除成员 - 这些人完全不参与工时检查
  exclude_members:
    - "邹阳"
    - "杨劲松"
    - "高乐奇"
    - "邹鹏飞"
    - "张建全"
  # 例外日期配置 - 某些人在特定星期几不需要填写工时
  exceptions:
    滕凯:
      - "星期二"

# 定时任务配置
schedules:
  timezone: "Asia/Shanghai"
  tasks:
    # 周一到周五晚上 19:30 检查当天工时
    - id: "labor_evening_check"
      name: "工时检查 - 周一至周五19:30"
      type: "labor_hour"
      enabled: true
      schedule: "cron"
      cron: "30 19 * * 0-4"  # 周一到周五（APScheduler: 0=Mon, 4=Fri）
      offset: 0  # 0=今天
      description: "工作日（周一到周五）晚上19:30检查当天工时填写情况"
    
    # 周二到周五早上 10:30 检查昨天工时（周一到周四）
    - id: "labor_morning_makeup"
      name: "工时检查 - 周二至周五10:30补填提醒"
      type: "labor_hour"
      enabled: true
      schedule: "cron"
      cron: "30 10 * * 1-4"  # 周二到周五（APScheduler: 1=Tue, 4=Fri）
      offset: -1  # -1=昨天
      description: "周二到周五早上10:30提醒昨天（周一到周四）未填写的人补填工时"
    
    # 每月 28 号上午 10:00 发送月报
    - id: "labor_month_summary"
      name: "工时月报 - 每月28号"
      type: "labor_month_summary"
      enabled: true
      schedule: "cron"
      cron: "0 10 28 * *"
      mention_users:
        - "刘华鑫"
      description: "每月28号总结过去一个月的工时填写情况，并@刘华鑫"
    
    # 每周一上午 10:30 检查上周五工时
    - id: "labor_monday_friday_check"
      name: "工时检查 - 周一10:30检查周五"
      type: "labor_hour"
      enabled: true
      schedule: "cron"
      cron: "30 10 * * 0"  # 周一（APScheduler: 0=Monday）
      offset: -3  # -3=上周五（从周一往前推3天）
      description: "每周一早上10:30检查上周五的工时填写情况"